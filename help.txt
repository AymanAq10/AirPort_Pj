create database airport;
use airport;

create table Stagiaire_acc (
	Acc_id int not null primary key auto_increment,
    Fname varchar(10) not null,
    Lname varchar(10) not null,
    Domain varchar(10) not null,
    _Number varchar(13) not null,
    Acc_email varchar(30) not null,
    CIN varchar(8) not null,
    _Password varchar(20)
);

create table Admin_acc (
	AdminId int not null primary key auto_increment,
    Fname varchar(10) not null,
    Lname varchar(10) not null,
    Thel varchar(13) not null,
    email varchar(30) not null,
    _Password varchar(20)
);

create table Requests (
    Acc_id int not null primary key,
    StagiaireCV longblob not null,
    Message longtext,
    RequDate date,
    
    foreign key (Acc_id) references Stagiaire_acc(Acc_id)
);

create table RequestesAccepter (
	Acc_id int not null primary key,
    RequDateAcc date not null,
    
    foreign key(Acc_id) references Stagiaire_acc(Acc_id) 
);

select * from Stagiaire_acc;
select * from Admin_acc;
select * from Requests;
select * from RequestesAccepter;


///////////////////////////////////////////////////////////////////



###### khaskom t installiw mysql.connector

import mysql.connector, random, datetime


####### hna tatrayro data 3la 7sab dakchi 3ndkom
DB = mysql.connector.connect(
  host="localhost",
  port=3306,
  user="root", 
  password="26022002",
  database="airport"
)

def AddStagiaire (count) :

########## count ===> tatkhtar 3adad dyal stagiaire

	value = 'abcefghijklmnopqrstuvwxyz'

	for i in range(count) :
		FirstName = ''.join(random.sample(value, k=random.randint(2, 7)))
		LastName = ''.join(random.sample(value, k=random.randint(2, 7)))
		Thel = '06' + str(random.randint(10000000, 99999999))
		Domain = ''.join(random.sample(value, k=10))
		CIN = f"{''.join(random.sample(value, k=2)).upper()}{str(random.randint(100000, 999999))}"
		Email = ''.join(random.sample(value, k=7)) + '@gmail.com'
		password = ''.join(random.sample(f'{value}1234567890', k=10))

		yield [FirstName, LastName, Domain, Thel, CIN, Email, password]


def AddRequest (ReqCount, start, end) :

######### ReqCount ===> tatkhtar 3adad dyal reaquests
######### start ===> tat7at awal id ftabl stagiaire
######### end ===> tat7at akhir id ftabl stagiaire


	pdf_file = open(R'C:\Users\brahim azirar\Desktop\!!!!!!!\59233230.pdf').read()
	message = """The sun was setting over the horizon, painting the sky in shades of orange and pink. The cool evening breeze rustled the leaves on the trees, creating a soothing sound. A group of children played tag in the nearby park, their laughter filling the air. A couple sat on a bench, holding hands and watching the sunset. It was a peaceful scene, one that made you forget about the worries of the day and appreciate the simple joys of life."""
	ReqDate = datetime.date(2002, 2, 26)
	tab = []
	for i in range(ReqCount) :
		staid = random.randint(start, end)
		if staid not in tab :
			tab.append(staid)
			yield [staid, pdf_file, message, ReqDate]
		else :
			ReqCount += 1



sql1 = "INSERT INTO Stagiaire_acc(Fname, Lname, Domain, _Number, CIN, Acc_Email, _Password) value(%s, %s, %s, %s, %s, %s, %s)"
sql2 = "INSERT INTO requests value(%s, %s, %s, %s)"

myQwiry = DB.cursor()

for i in AddRequest(50, 102, 250) :
	myQwiry.execute(sql2, i)

DB.commit()